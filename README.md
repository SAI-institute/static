# SAIの研究所 / static

このリポジトリ配下は、静的HTML/JSで可視化するデモ群です。

## ファイル一覧と役割

- html/gamma.py.html
  - 以前は Pyodide を用いた Python 描画と軽量JS描画のハイブリッドでしたが、純JS＋Plotly のみで同等挙動を行うように変更しました。
  - スライダーでパラメータ α, β を操作し、ガンマ分布 f_{αβ}(x) の PDF を 0〜2 の範囲で描画します。
  - 目安として α=1 の参照曲線（点線・灰色）を表示します。
  - α≥1 のとき、モード x=(α-1)β を赤点で表示します。

- html/gamma.html
  - 純JS＋Plotly によるガンマ分布可視化の別実装です（初期値 β=1）。

## gamma.py.html の主な関数

- `gammaFunc(z)`
  - Lanczos 近似でガンマ関数 Γ(z) を計算します。
- `gammaPDF(x, alpha, beta)`
  - ガンマ分布の PDF を計算します。x≤0 の場合は 0。
- `plotGamma()`
  - 現在のスライダー値を読み取り、Plotly で曲線を描画します。
  - 参照曲線（α=1）と、必要に応じてモード点を追加します。
- `updatePlot()`
  - スライダーの数値表示（α, β）を更新し、`plotGamma()` を呼びます。

## 使い方

1. ブラウザで `html/gamma.py.html` または `html/gamma.html` を開きます。
2. α, β スライダーを動かすとグラフが即時更新されます。
3. 表示範囲は x∈[0, 2], y∈[0, 2] に固定し、描画の安定性を優先しています。

## 実装メモ

- 依存ライブラリ: Plotly (CDN)
- プロットは x≥0.05 の範囲のみ描画し、x∈[0,2] のグリッドと y 軸は常に表示します。
- 旧 Pyodide 依存コードは削除しました。

## 更新履歴

- 2025-10-28
  - `gamma.py.html`: y軸消失対策として x 範囲の開始を常に 0 に固定し、軸ライン `showline:true` を有効化しました。
  - 再プロット回避: 初回のみ `Plotly.newPlot`、以降は `Plotly.restyle`/`Plotly.relayout` による差分更新に変更しました。
  - x<0.05 の領域はプロットを行わず、グリッド/軸のみ表示する仕様に変更しました。
